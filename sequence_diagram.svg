<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1690px" preserveAspectRatio="none" style="width:1023px;height:1690px;background:#FFFFFF;" version="1.1" viewBox="0 0 1023 1690" width="1023px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="263.1953" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="98.2969"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="375.4922"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="668.8203"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="962.1484"/><rect fill="none" height="337.5938" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="1255.4766"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1528.7734" width="8" x="34.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="1610.0703"/></g><g><title>Web Browser</title><rect fill="#000000" fill-opacity="0.00000" height="1528.7734" width="8" x="204.2847" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="207.8687" x2="207.8687" y1="81.2969" y2="1610.0703"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="1528.7734" width="8" x="489.6494" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="493.4277" x2="493.4277" y1="81.2969" y2="1610.0703"/></g><g><title>Auth Service</title><rect fill="#000000" fill-opacity="0.00000" height="1528.7734" width="8" x="656.2559" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="659.7539" x2="659.7539" y1="81.2969" y2="1610.0703"/></g><g><title>Patient Service</title><rect fill="#000000" fill-opacity="0.00000" height="1528.7734" width="8" x="777.5415" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="780.7578" x2="780.7578" y1="81.2969" y2="1610.0703"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="1528.7734" width="8" x="963.5654" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="967.165" x2="967.165" y1="81.2969" y2="1610.0703"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="77.9951">User</text><ellipse cx="38.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,21.5 L38.9551,48.5 M25.9551,29.5 L51.9551,29.5 M38.9551,48.5 L25.9551,63.5 M38.9551,48.5 L51.9551,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1622.0654">User</text><ellipse cx="38.9551" cy="1633.8672" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1641.8672 L38.9551,1668.8672 M25.9551,1649.8672 L51.9551,1649.8672 M38.9551,1668.8672 L25.9551,1683.8672 M38.9551,1668.8672 L51.9551,1683.8672" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Browser"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.832" x="154.8687" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.832" x="161.8687" y="69.9951">Web Browser</text></g><g class="participant participant-tail" data-participant="Browser"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.832" x="154.8687" y="1609.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.832" x="161.8687" y="1629.0654">Web Browser</text></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="442.4277" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="449.4277" y="69.9951">API Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="442.4277" y="1609.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="449.4277" y="1629.0654">API Gateway</text></g><g class="participant participant-head" data-participant="Auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.0039" x="608.7539" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.0039" x="615.7539" y="69.9951">Auth Service</text></g><g class="participant participant-tail" data-participant="Auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.0039" x="608.7539" y="1609.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.0039" x="615.7539" y="1629.0654">Auth Service</text></g><g class="participant participant-head" data-participant="Patient"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.5674" x="721.7578" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5674" x="728.7578" y="69.9951">Patient Service</text></g><g class="participant participant-tail" data-participant="Patient"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.5674" x="721.7578" y="1609.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.5674" x="728.7578" y="1629.0654">Patient Service</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="927.165" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="934.165" y="69.9951">Database</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="927.165" y="1609.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="934.165" y="1629.0654">Database</text></g><path d="M10,98.2969 L74.4429,98.2969 L74.4429,105.4297 L64.4429,115.4297 L10,115.4297 L10,98.2969" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="263.1953" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="111.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76.291" x="89.4429" y="110.5073">[User Login]</text><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="196.2847,132.5625,206.2847,136.5625,196.2847,140.5625,200.2847,136.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="202.2847" y1="136.5625" y2="136.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8379" x="45.9551" y="131.4966">Enters credentials</text></g><g class="message" data-participant-1="Browser" data-participant-2="Gateway"><polygon fill="#181818" points="481.6494,161.6953,491.6494,165.6953,481.6494,169.6953,485.6494,165.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="208.2847" x2="487.6494" y1="165.6953" y2="165.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.5151" x="215.2847" y="160.6294">POST /auth/token</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Auth"><polygon fill="#181818" points="648.2559,190.8281,658.2559,194.8281,648.2559,198.8281,652.2559,194.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="654.2559" y1="194.8281" y2="194.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.6064" x="500.6494" y="189.7622">Forward login request</text></g><g class="message" data-participant-1="Auth" data-participant-2="DB"><polygon fill="#181818" points="955.5654,219.9609,965.5654,223.9609,955.5654,227.9609,959.5654,223.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="660.2559" x2="961.5654" y1="223.9609" y2="223.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.5684" x="667.2559" y="218.895">Validate credentials</text></g><g class="message" data-participant-1="DB" data-participant-2="Auth"><polygon fill="#181818" points="671.2559,249.0938,661.2559,253.0938,671.2559,257.0938,667.2559,253.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="665.2559" x2="966.5654" y1="253.0938" y2="253.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0732" x="677.2559" y="248.0278">User details</text></g><g class="message" data-participant-1="Auth" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,278.2266,494.6494,282.2266,504.6494,286.2266,500.6494,282.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="659.2559" y1="282.2266" y2="282.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4214" x="510.6494" y="277.1606">JWT Token</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Browser"><polygon fill="#181818" points="219.2847,307.3594,209.2847,311.3594,219.2847,315.3594,215.2847,311.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="213.2847" x2="492.6494" y1="311.3594" y2="311.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.7124" x="225.2847" y="306.2935">Return JWT</text></g><g class="message" data-participant-1="Browser" data-participant-2="Browser"><line style="stroke:#181818;stroke-width:1;" x1="208.2847" x2="250.2847" y1="340.4922" y2="340.4922"/><line style="stroke:#181818;stroke-width:1;" x1="250.2847" x2="250.2847" y1="340.4922" y2="353.4922"/><line style="stroke:#181818;stroke-width:1;" x1="209.2847" x2="250.2847" y1="353.4922" y2="353.4922"/><polygon fill="#181818" points="219.2847,349.4922,209.2847,353.4922,219.2847,357.4922,215.2847,353.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.5942" x="215.2847" y="335.4263">Store token</text></g><path d="M10,375.4922 L74.4429,375.4922 L74.4429,382.625 L64.4429,392.625 L10,392.625 L10,375.4922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="375.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="388.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="115.269" x="89.4429" y="387.7026">[View Patient List]</text><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="196.2847,409.7578,206.2847,413.7578,196.2847,417.7578,200.2847,413.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="202.2847" y1="413.7578" y2="413.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.9189" x="45.9551" y="408.6919">Clicks 'View Patients'</text></g><g class="message" data-participant-1="Browser" data-participant-2="Gateway"><polygon fill="#181818" points="481.6494,438.8906,491.6494,442.8906,481.6494,446.8906,485.6494,442.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="208.2847" x2="487.6494" y1="442.8906" y2="442.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.603" x="215.2847" y="437.8247">GET /api/patients (with JWT)</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Auth"><polygon fill="#181818" points="648.2559,468.0234,658.2559,472.0234,648.2559,476.0234,652.2559,472.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="654.2559" y1="472.0234" y2="472.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3452" x="500.6494" y="466.9575">Validate token</text></g><g class="message" data-participant-1="Auth" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,497.1563,494.6494,501.1563,504.6494,505.1563,500.6494,501.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="659.2559" y1="501.1563" y2="501.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.9277" x="510.6494" y="496.0903">Token valid</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Patient"><polygon fill="#181818" points="769.5415,526.2891,779.5415,530.2891,769.5415,534.2891,773.5415,530.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="775.5415" y1="530.2891" y2="530.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8057" x="500.6494" y="525.2231">Forward request</text></g><g class="message" data-participant-1="Patient" data-participant-2="DB"><polygon fill="#181818" points="955.5654,555.4219,965.5654,559.4219,955.5654,563.4219,959.5654,559.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="781.5415" x2="961.5654" y1="559.4219" y2="559.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.6748" x="788.5415" y="554.356">Query patients</text></g><g class="message" data-participant-1="DB" data-participant-2="Patient"><polygon fill="#181818" points="792.5415,584.5547,782.5415,588.5547,792.5415,592.5547,788.5415,588.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="786.5415" x2="966.5654" y1="588.5547" y2="588.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.5713" x="798.5415" y="583.4888">Return patient list</text></g><g class="message" data-participant-1="Patient" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,613.6875,494.6494,617.6875,504.6494,621.6875,500.6494,617.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="780.5415" y1="617.6875" y2="617.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.7593" x="510.6494" y="612.6216">Return patient data</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Browser"><polygon fill="#181818" points="219.2847,642.8203,209.2847,646.8203,219.2847,650.8203,215.2847,646.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="213.2847" x2="492.6494" y1="646.8203" y2="646.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.5386" x="225.2847" y="641.7544">Display patient list</text></g><path d="M10,668.8203 L74.4429,668.8203 L74.4429,675.9531 L64.4429,685.9531 L10,685.9531 L10,668.8203" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="668.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="681.8872">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130.7056" x="89.4429" y="681.0308">[Create New Patient]</text><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="196.2847,703.0859,206.2847,707.0859,196.2847,711.0859,200.2847,707.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="202.2847" y1="707.0859" y2="707.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.1509" x="45.9551" y="702.02">Fills patient form</text></g><g class="message" data-participant-1="Browser" data-participant-2="Gateway"><polygon fill="#181818" points="481.6494,732.2188,491.6494,736.2188,481.6494,740.2188,485.6494,736.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="208.2847" x2="487.6494" y1="736.2188" y2="736.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.6392" x="215.2847" y="731.1528">POST /api/patients (with JWT)</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Auth"><polygon fill="#181818" points="648.2559,761.3516,658.2559,765.3516,648.2559,769.3516,652.2559,765.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="654.2559" y1="765.3516" y2="765.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3452" x="500.6494" y="760.2856">Validate token</text></g><g class="message" data-participant-1="Auth" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,790.4844,494.6494,794.4844,504.6494,798.4844,500.6494,794.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="659.2559" y1="794.4844" y2="794.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.9277" x="510.6494" y="789.4185">Token valid</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Patient"><polygon fill="#181818" points="769.5415,819.6172,779.5415,823.6172,769.5415,827.6172,773.5415,823.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="775.5415" y1="823.6172" y2="823.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8057" x="500.6494" y="818.5513">Forward request</text></g><g class="message" data-participant-1="Patient" data-participant-2="DB"><polygon fill="#181818" points="955.5654,848.75,965.5654,852.75,955.5654,856.75,959.5654,852.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="781.5415" x2="961.5654" y1="852.75" y2="852.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.3057" x="788.5415" y="847.6841">Save new patient</text></g><g class="message" data-participant-1="DB" data-participant-2="Patient"><polygon fill="#181818" points="792.5415,877.8828,782.5415,881.8828,792.5415,885.8828,788.5415,881.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="786.5415" x2="966.5654" y1="881.8828" y2="881.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0298" x="798.5415" y="876.8169">Confirm save</text></g><g class="message" data-participant-1="Patient" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,907.0156,494.6494,911.0156,504.6494,915.0156,500.6494,911.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="780.5415" y1="911.0156" y2="911.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="510.6494" y="905.9497">Return success</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Browser"><polygon fill="#181818" points="219.2847,936.1484,209.2847,940.1484,219.2847,944.1484,215.2847,940.1484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="213.2847" x2="492.6494" y1="940.1484" y2="940.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.6167" x="225.2847" y="935.0825">Show success message</text></g><path d="M10,962.1484 L74.4429,962.1484 L74.4429,969.2813 L64.4429,979.2813 L10,979.2813 L10,962.1484" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="279.3281" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="962.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="975.2153">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98.4146" x="89.4429" y="974.3589">[Schedule Visit]</text><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="196.2847,996.4141,206.2847,1000.4141,196.2847,1004.4141,200.2847,1000.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="202.2847" y1="1000.4141" y2="1000.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.4321" x="45.9551" y="995.3481">Schedules new visit</text></g><g class="message" data-participant-1="Browser" data-participant-2="Gateway"><polygon fill="#181818" points="481.6494,1025.5469,491.6494,1029.5469,481.6494,1033.5469,485.6494,1029.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="208.2847" x2="487.6494" y1="1029.5469" y2="1029.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.3647" x="215.2847" y="1024.481">POST /api/patients/{id}/visits (with JWT)</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Auth"><polygon fill="#181818" points="648.2559,1054.6797,658.2559,1058.6797,648.2559,1062.6797,652.2559,1058.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="654.2559" y1="1058.6797" y2="1058.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3452" x="500.6494" y="1053.6138">Validate token</text></g><g class="message" data-participant-1="Auth" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,1083.8125,494.6494,1087.8125,504.6494,1091.8125,500.6494,1087.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="659.2559" y1="1087.8125" y2="1087.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.9277" x="510.6494" y="1082.7466">Token valid</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Patient"><polygon fill="#181818" points="769.5415,1112.9453,779.5415,1116.9453,769.5415,1120.9453,773.5415,1116.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="775.5415" y1="1116.9453" y2="1116.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8057" x="500.6494" y="1111.8794">Forward request</text></g><g class="message" data-participant-1="Patient" data-participant-2="DB"><polygon fill="#181818" points="955.5654,1142.0781,965.5654,1146.0781,955.5654,1150.0781,959.5654,1146.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="781.5415" x2="961.5654" y1="1146.0781" y2="1146.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.8291" x="788.5415" y="1141.0122">Save visit</text></g><g class="message" data-participant-1="DB" data-participant-2="Patient"><polygon fill="#181818" points="792.5415,1171.2109,782.5415,1175.2109,792.5415,1179.2109,788.5415,1175.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="786.5415" x2="966.5654" y1="1175.2109" y2="1175.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0298" x="798.5415" y="1170.145">Confirm save</text></g><g class="message" data-participant-1="Patient" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,1200.3438,494.6494,1204.3438,504.6494,1208.3438,500.6494,1204.3438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="780.5415" y1="1204.3438" y2="1204.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="510.6494" y="1199.2778">Return success</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Browser"><polygon fill="#181818" points="219.2847,1229.4766,209.2847,1233.4766,219.2847,1237.4766,215.2847,1233.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="213.2847" x2="492.6494" y1="1233.4766" y2="1233.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.6147" x="225.2847" y="1228.4106">Show confirmation</text></g><path d="M10,1255.4766 L74.4429,1255.4766 L74.4429,1262.6094 L64.4429,1272.6094 L10,1272.6094 L10,1255.4766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="337.5938" style="stroke:#000000;stroke-width:1.5;" width="1007.9658" x="10" y="1255.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="1268.5435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96.6851" x="89.4429" y="1267.687">[Create Cohort]</text><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="196.2847,1289.7422,206.2847,1293.7422,196.2847,1297.7422,200.2847,1293.7422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="202.2847" y1="1293.7422" y2="1293.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.3296" x="45.9551" y="1288.6763">Defines cohort criteria</text></g><g class="message" data-participant-1="Browser" data-participant-2="Gateway"><polygon fill="#181818" points="481.6494,1318.875,491.6494,1322.875,481.6494,1326.875,485.6494,1322.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="208.2847" x2="487.6494" y1="1322.875" y2="1322.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.1133" x="215.2847" y="1317.8091">POST /api/cohorts (with JWT)</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Auth"><polygon fill="#181818" points="648.2559,1348.0078,658.2559,1352.0078,648.2559,1356.0078,652.2559,1352.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="654.2559" y1="1352.0078" y2="1352.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3452" x="500.6494" y="1346.9419">Validate token</text></g><g class="message" data-participant-1="Auth" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,1377.1406,494.6494,1381.1406,504.6494,1385.1406,500.6494,1381.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="659.2559" y1="1381.1406" y2="1381.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.9277" x="510.6494" y="1376.0747">Token valid</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Patient"><polygon fill="#181818" points="769.5415,1406.2734,779.5415,1410.2734,769.5415,1414.2734,773.5415,1410.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="493.6494" x2="775.5415" y1="1410.2734" y2="1410.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8057" x="500.6494" y="1405.2075">Forward request</text></g><g class="message" data-participant-1="Patient" data-participant-2="DB"><polygon fill="#181818" points="955.5654,1435.4063,965.5654,1439.4063,955.5654,1443.4063,959.5654,1439.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="781.5415" x2="961.5654" y1="1439.4063" y2="1439.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7778" x="788.5415" y="1434.3403">Save cohort</text></g><g class="message" data-participant-1="DB" data-participant-2="Patient"><polygon fill="#181818" points="792.5415,1464.5391,782.5415,1468.5391,792.5415,1472.5391,788.5415,1468.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="786.5415" x2="966.5654" y1="1468.5391" y2="1468.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0298" x="798.5415" y="1463.4731">Confirm save</text></g><g class="message" data-participant-1="Patient" data-participant-2="DB"><polygon fill="#181818" points="955.5654,1493.6719,965.5654,1497.6719,955.5654,1501.6719,959.5654,1497.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="781.5415" x2="961.5654" y1="1497.6719" y2="1497.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.0239" x="788.5415" y="1492.606">Query matching patients</text></g><g class="message" data-participant-1="DB" data-participant-2="Patient"><polygon fill="#181818" points="792.5415,1522.8047,782.5415,1526.8047,792.5415,1530.8047,788.5415,1526.8047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="786.5415" x2="966.5654" y1="1526.8047" y2="1526.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.5713" x="798.5415" y="1521.7388">Return patient list</text></g><g class="message" data-participant-1="Patient" data-participant-2="Gateway"><polygon fill="#181818" points="504.6494,1551.9375,494.6494,1555.9375,504.6494,1559.9375,500.6494,1555.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="498.6494" x2="780.5415" y1="1555.9375" y2="1555.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.7354" x="510.6494" y="1550.8716">Return cohort with patient count</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Browser"><polygon fill="#181818" points="219.2847,1581.0703,209.2847,1585.0703,219.2847,1589.0703,215.2847,1585.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="213.2847" x2="492.6494" y1="1585.0703" y2="1585.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.3877" x="225.2847" y="1580.0044">Show cohort details</text></g><!--SRC=[pPL1Zzem48Nl-HMZlT0ULjmvL2faMRNQjhIXksUlCy1eZPtQ3X6g-jzhEqu88Unog2eu81D_7izx3ySZI7554g5WsXAdWabh4iQjql3Je4uwp-7c2PzXgbNb9cw0cMPy37rSV89xPh5Y-m35SGygxGOor3lY62Z_u1XPC4le1bqgFZi6KsRPCpCraKwJP1IgEOwuuvM4kL1LmeGDak11hKacu3xXv-s7HiS4xgH5RO1hpFro9apWuhn7eve9BBvbInWpjz7OgXUi2yPP3_eM9Z1Nkc8w1-7t18s_IZGseC41nwNJ2JmoGRbRUh9nEeNRjbReDaVBACxM9RfDVNvQmlAqcwx47sXBBJtPbzOYcKiVeLQ5ClU6Dc5yOPAjSUk7hQcFX5KBF53KT-BjJ11_CJ3gucPqrj_xEszlGUCYel2k8gVNDVv-sElMnKCUfmu5Ts3dqNwLsDCXj6vSZRwOsFSIzHwQrhfPjLMYqP41GVrAtRPwi9F1paUOaYa4sn-N3a7vE6OQlGbV3ouFvp4d8KnROwNqzgt_-hM6aR4TWdHwYuxUVXmp9LUajs0S_6OEfkGSZJaVGRPHLKF1rdsvKz6SbKSoD7nIChx1l1HO8yEnD8m9YdOjU5akuz-K_nc7LLUOqK7DVqY7roN33T14CrCRfOUpYSUc9eQZgQzATptKLRWcTriGko2UUiKL9i8FSY-FfFiATFxo3SdrltyNHfU3Oyr2hiful5_BFQnhBagN_5y0]--></g></svg>